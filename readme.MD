# Complete YouTube Downloader ğŸ¬

A powerful, feature-rich YouTube downloader with both GUI and CLI interfaces, smart file verification, and robust download resumption capabilities.

![YouTube Downloader](https://github.com/ibhoqba/YouTubeDownloader/releases/tag/YouTubeDownloader)
![Python](https://img.shields.io/badge/Python-3.8%2B-blue?style=for-the-badge&logo=python)

## âœ¨ Features

### ğŸ¯ Core Functionality
- **Dual Interface**: Both GUI (Graphical User Interface) and CLI (Command Line Interface)
- **Smart Downloads**: Automatically skips already downloaded content using file size verification
- **Resume Support**: Continues interrupted downloads seamlessly
- **Batch Processing**: Download multiple videos/playlists from a text file

### ğŸ“¹ Download Options
- **Multiple Resolutions**: Best, 1080p, 720p, 480p, 360p, or Audio-only
- **Playlist Support**: Download entire YouTube playlists with folder organization
- **Subtitles**: English closed captions and auto-generated subtitles
- **Format Selection**: MP4, MKV, WebM, and audio formats

### ğŸ” Smart Verification
- **File Size Checking**: Compares downloaded file size with expected size
- **Fuzzy Matching**: Intelligent filename comparison to detect existing files
- **Configurable Tolerance**: Set completion threshold (80%, 90%, 95%, etc.)
- **Detailed Analysis**: Shows file completion percentage and size information

### ğŸ›¡ï¸ Reliability Features
- **Network Resilience**: Automatic retry on network failures
- **Fragment Recovery**: Handles corrupted or missing video fragments
- **Progress Tracking**: Persistent download state across sessions
- **Error Handling**: Comprehensive error reporting and recovery

## ğŸš€ Installation

### Prerequisites
- Python 3.8 or higher
- pip (Python package manager)

### Step 1: Install Dependencies
```bash
pip install yt-dlp
```

### Step 2: Download the Application
Download `CompleteYouTubeDownloader.py` to your desired directory.

### Optional: FFmpeg (Recommended)
For best quality and format conversion, install FFmpeg:
- **Windows**: Download from [FFmpeg Official Site](https://ffmpeg.org/download.html)
- **Add to PATH** or place in the same directory as the script

## ğŸ“– Usage

### GUI Mode (Recommended for Beginners)
```bash
python CompleteYouTubeDownloader.py --gui
```
_or simply:_
```bash
python CompleteYouTubeDownloader.py
```

### CLI Mode (For Advanced Users)
```bash
# Single video download
python CompleteYouTubeDownloader.py "https://youtube.com/watch?v=VIDEO_ID" -r 720p -s

# Playlist download
python CompleteYouTubeDownloader.py "https://youtube.com/playlist?list=PLAYLIST_ID" -r 1080p

# Batch download from file
python CompleteYouTubeDownloader.py -f urls.txt -o "G:\Videos" --size-tolerance 0.95

# Audio-only download
python CompleteYouTubeDownloader.py "URL" -r audio
```

## ğŸ® GUI Interface Guide

### Main Window Components
1. **URL Input**: Paste YouTube video or playlist URL
2. **Output Directory**: Choose where to save downloads
3. **Resolution Selection**: Choose video quality
4. **Download Options**:
   - English Subtitles
   - Auto-generated Subtitles
   - Size Tolerance (completion threshold)
5. **Download Type**: Auto-detect, Single Video, or Playlist
6. **Action Buttons**:
   - ğŸ“Š Check File Status
   - â¬‡ï¸ Download
   - ğŸ“ Batch Download
   - ğŸ”„ Resume Failed
   - ğŸ§¹ Clear Log
7. **Download Log**: Real-time progress and status messages

### Using the GUI
1. **Single Download**:
   - Paste URL â†’ Select options â†’ Click "Download"
   
2. **Check File Status**:
   - Paste URL â†’ Click "Check File Status" to see if file exists and completion status

3. **Batch Download**:
   - Create a text file with one URL per line
   - Click "Batch Download" â†’ Select your file

4. **Resume Downloads**:
   - Use "Resume Failed" to continue interrupted downloads

## âŒ¨ï¸ Command Line Options

| Option | Description | Default |
|--------|-------------|---------|
| `url` | YouTube video or playlist URL | - |
| `-f, --file` | Text file containing URLs (one per line) | - |
| `-o, --output` | Output directory for downloads | `downloads` |
| `-r, --resolution` | Video resolution: `best`, `1080p`, `720p`, `480p`, `360p`, `audio` | `best` |
| `-s, --subs` | Download English subtitles | `False` |
| `--size-tolerance` | Size tolerance ratio (0.8 = 80%) | `0.9` |
| `--gui` | Launch graphical interface | `False` |

## ğŸ“ File Structure

```
downloads/
â”œâ”€â”€ Single_Video_Title.mp4
â”œâ”€â”€ Another_Video.mkv
â””â”€â”€ Playlist_Name/
    â”œâ”€â”€ Video_1_In_Playlist.mp4
    â”œâ”€â”€ Video_2_In_Playlist.mp4
    â””â”€â”€ ...
```

## ğŸ“ URLs File Format

Create a text file with YouTube URLs (one per line):
```text
# My YouTube Downloads
https://www.youtube.com/watch?v=VIDEO_ID_1
https://www.youtube.com/watch?v=VIDEO_ID_2
https://www.youtube.com/playlist?list=PLAYLIST_ID_1
https://www.youtube.com/playlist?list=PLAYLIST_ID_2

# Comments start with hash
```

## ğŸ”§ Advanced Configuration

### Download State File
The application maintains `download_state.json` for:
- Tracking download progress
- Resuming interrupted downloads
- Storing file size information

### Size Tolerance Explained
- `0.8`: File must be at least 80% of expected size to be considered complete
- `0.9`: File must be at least 90% of expected size (recommended)
- `0.95`: File must be at least 95% of expected size (strict)
- `0.99`: File must be at least 99% of expected size (very strict)

## ğŸ› Troubleshooting

### Common Issues

1. **"Module not found" error**
   ```bash
   pip install yt-dlp
   ```

2. **Network timeouts**
   - Increase retry attempts: Use `--retries` option
   - Check internet connection
   - Try different resolution

3. **Download stuck at 0%**
   - Video might be unavailable in your region
   - Try different video/playlist
   - Check URL format

4. **File skipped incorrectly**
   - Adjust `--size-tolerance` to lower value
   - Manually delete incomplete files
   - Use "Check File Status" in GUI

### Performance Tips
- Use wired connection for large downloads
- Close bandwidth-intensive applications during download
- For playlists, start with lower resolution to test

## ğŸ“Š Sample Output

### CLI Output
```
ğŸ” Fetching video information...
ğŸ¬ Video: My Awesome Video
ğŸ“ Expected size: 156.3MB
ğŸ’¾ Resolution: best
ğŸ“ Subtitles: No
ğŸ“Š File analysis:
   ğŸ“ Existing file: My_Awesome_Video.mp4
   ğŸ’¾ File size: 152.1MB
   ğŸ“ Expected size: 156.3MB
   âœ… Completion: 97.3%
â­ï¸  SKIPPED: Video already downloaded completely
```

### GUI Log Output
```
[14:30:25] ğŸ” Fetching video information...
[14:30:26] ğŸ¬ Video: My Awesome Video
[14:30:26] ğŸ“¥ Progress: 45.2% (67.1MB/148.3MB) | Speed: 1.2MiB/s | ETA: 01:15
[14:31:45] âœ… Download completed: My_Awesome_Video.mp4
```

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit pull requests or open issues for:
- Bug reports
- Feature requests
- Documentation improvements
- Code optimizations

## âš ï¸ Disclaimer

This tool is intended for:
- Downloading content you have the right to access
- Personal archival purposes
- Educational use

Please respect:
- YouTube's Terms of Service
- Copyright laws
- Content creators' rights

The developers are not responsible for misuse of this software.

## ğŸ“„ License

This project is provided for educational and personal use. Please ensure you comply with all applicable laws and terms of service when using this software.

## ğŸ†˜ Support

If you encounter issues:
1. Check the troubleshooting section above
2. Ensure all dependencies are installed
3. Verify your YouTube URLs are correct
4. Check available disk space in output directory

For persistent issues, please open a GitHub issue with:
- Error messages
- Steps to reproduce
- Your operating system and Python version

---


**Happy Downloading!** ğŸ‰
